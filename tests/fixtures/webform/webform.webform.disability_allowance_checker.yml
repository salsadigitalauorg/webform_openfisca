uuid: cfe7400f-8b74-4093-9d4f-b1462292b9bb
langcode: en
status: open
dependencies:
  module:
    - webform_openfisca
third_party_settings:
  webform_openfisca:
    fisca_enabled: '1'
    fisca_debug_mode: false
    fisca_logging_mode: true
    fisca_api_endpoint: 'https://training-rac.salsadev.au/'
    fisca_api_authorization_header: 'Token WEBFORM-OPENFISCA-TEST-TOKEN'
    fisca_field_mappings: |-
      {
          "what_is_your_monthly_income_": "persons.personA.monthly_income",
          "has_disability": "persons.personA.has_disability",
          "requires_ongoing_support": "persons.personA.requires_ongoing_support",
          "requires_ongoing_supervision_or_treatment": "persons.personA.requires_ongoing_supervision_or_treatment",
          "disability_allowance_eligible": "persons.personA.disability_allowance_eligible",
          "aus_citizen_or_permanent_resident": "persons.personA.aus_citizen",
          "disability_allowance_benefit": "persons.personA.disability_allowance_benefit",
          "monthly_income_exceeds_limit": "persons.personA.monthly_income_exceeds_limit"
      }
    fisca_variables: |-
      {
          "salary": {
              "defaultValue": 0,
              "definitionPeriod": "DAY",
              "description": "What is your monthly income",
              "documentation": "Monthly income refers to your monthly taxable income",
              "entity": "person",
              "id": "salary",
              "references": [
                  "https:\/\/law.gov.example\/salary"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L27-L33",
              "valueType": "Float"
          },
          "has_disability": {
              "defaultValue": false,
              "definitionPeriod": "DAY",
              "description": "I \u003Cdo\/do not\u003E have a disability",
              "entity": "person",
              "id": "has_disability",
              "references": [
                  "https:\/\/law.gov.example\/has_disability"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/0.0.1\/openfisca_rules\/variables\/disability_allowance.py#L37-L42",
              "valueType": "Boolean"
          },
          "requires_ongoing_support": {
              "defaultValue": false,
              "definitionPeriod": "DAY",
              "description": "I \u003Cdo\/do not\u003E require support for everyday life functions.",
              "entity": "person",
              "id": "requires_ongoing_support",
              "references": [
                  "https:\/\/law.gov.example\/requires_ongoing_support"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L46-L51",
              "valueType": "Boolean"
          },
          "disability_allowance_eligible": {
              "defaultValue": false,
              "definitionPeriod": "DAY",
              "description": "Disability allowance eligibility",
              "entity": "person",
              "formulas": {
                  "0001-01-01": {
                      "content": "def formula(person, period, parameters):\n    \u0022\u0022\u0022Calculate Disability Allowance eligibility.\u0022\u0022\u0022\n    # Retrieve the values of the input variables\n    aus_citizen = person(\u0022aus_citizen\u0022, period)\n    has_disability = person(\u0022has_disability\u0022, period)\n    requires_ongoing_support = person(\u0022requires_ongoing_support\u0022, period)\n    requires_ongoing_supervision_or_treatment = person(\u0022requires_ongoing_supervision_or_treatment\u0022, period)\n    salary = person(\u0022salary\u0022, period)\n\n    # Retrieve the values of the parameters\n    disability_allowance_max_income = parameters(period).disability_allowance_max_income\n\n    # Calculate the eligibility\n    eligible = where(\n        aus_citizen\n        \u0026 has_disability\n        \u0026 (requires_ongoing_support + requires_ongoing_supervision_or_treatment)\n        \u0026 (salary \u003C disability_allowance_max_income),\n        True, False)\n\n    return eligible\n",
                      "documentation": "Calculate Disability Allowance eligibility.",
                      "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L70-L90"
                  }
              },
              "id": "disability_allowance_eligible",
              "references": [
                  "https:\/\/law.gov.example\/disability_allowance_eligible"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L63-L90",
              "valueType": "Boolean"
          },
          "aus_citizen": {
              "defaultValue": false,
              "definitionPeriod": "DAY",
              "description": "Australian citizen or permanent resident",
              "entity": "person",
              "id": "aus_citizen",
              "references": [
                  "https:\/\/law.gov.example\/citizen"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/0.0.1\/openfisca_rules\/variables\/disability_allowance.py#L18-L23",
              "valueType": "Boolean"
          },
          "disability_allowance_benefit": {
              "defaultValue": 0,
              "definitionPeriod": "DAY",
              "description": "Disability allowance eligibility amount",
              "entity": "person",
              "formulas": {
                  "0001-01-01": {
                      "content": "def formula(person, period, parameters):\n    \u0022\u0022\u0022Calculate Disability Allowance eligibility amount.\u0022\u0022\u0022\n    # Retrieve the values of the input variables\n    disability_allowance_eligible = person(\u0022disability_allowance_eligible\u0022, period)\n\n    # Retrieve the values of the parameters\n    disability_allowance_benefit = parameters(period).disability_allowance_benefit\n\n    # Return the benefit amount if eligible, 0 otherwise\n    return where(disability_allowance_eligible, disability_allowance_benefit, 0)\n",
                      "documentation": "Calculate Disability Allowance eligibility amount.",
                      "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L100-L109"
                  }
              },
              "id": "disability_allowance_benefit",
              "references": [
                  "https:\/\/law.gov.example\/disability_allowance_benefit"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L93-L109",
              "valueType": "Float"
          },
          "monthly_income_exceeds_limit": {
              "defaultValue": false,
              "definitionPeriod": "DAY",
              "description": "Monthly Income exceeds limit",
              "entity": "person",
              "formulas": {
                  "0001-01-01": {
                      "content": "def formula(person, period, parameters):\n    \u0022\u0022\u0022Calculate if Monthly income exceeds limit.\u0022\u0022\u0022\n    # Retrieve the values of the input variables\n    monthly_income = person(\u0022monthly_income\u0022, period)\n\n    # Retrieve the values of the parameters\n    disability_allowance_max_income = parameters(period).disability_allowance_max_income\n\n    return monthly_income \u003E= disability_allowance_max_income\n",
                      "documentation": "Calculate if Monthly income exceeds limit.",
                      "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L70-L78"
                  }
              },
              "id": "monthly_income_exceeds_limit",
              "references": [
                  "https:\/\/law.gov.example\/monthly_income_exceeds_limit"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L63-L78",
              "valueType": "Boolean"
          },
          "monthly_income": {
              "defaultValue": 0,
              "definitionPeriod": "DAY",
              "description": "What is your monthly income",
              "documentation": "Monthly income refers to your monthly taxable income",
              "entity": "person",
              "id": "monthly_income",
              "references": [
                  "https:\/\/law.gov.example\/monthly_income"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/6.0.1\/openfisca_rules\/variables\/disability_allowance.py#L27-L33",
              "valueType": "Float"
          },
          "requires_ongoing_supervision_or_treatment": {
              "defaultValue": false,
              "definitionPeriod": "DAY",
              "description": "I \u003Cdo\/do not require\u003E ongoing supervision or treatment by a health practitioner",
              "entity": "person",
              "id": "requires_ongoing_supervision_or_treatment",
              "references": [
                  "https:\/\/law.gov.example\/requires_ongoing_supervision_or_treatment"
              ],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/0.0.1\/openfisca_rules\/variables\/disability_allowance.py#L55-L60",
              "valueType": "Boolean"
          }
      }
    fisca_parameter_tokens: 'disability_allowance_max_income,income_tax_rate'
    fisca_parameters: |-
      {
          "disability_allowance_max_income": {
              "description": "Disability allowance maximum income threshold",
              "id": "disability_allowance_max_income",
              "metadata": [],
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/0.0.1\/openfisca_rules\/parameters\/disability_allowance_max_income.yaml",
              "values": {
                  "2024-01-01": 500
              }
          },
          "income_tax_rate": {
              "description": "Income tax rate",
              "id": "income_tax_rate",
              "metadata": {
                  "unit": "\/1"
              },
              "source": "https:\/\/github.com\/openfisca\/country-template\/blob\/0.0.1\/openfisca_rules\/parameters\/income_tax_rate.yaml",
              "values": {
                  "2023-01-01": 0.14,
                  "2024-01-01": 0.15,
                  "2025-01-01": 0.16
              }
          }
      }
    fisca_entity_roles: '[]'
    fisca_immediate_response_mapping: |-
      {
          "aus_citizen_or_permanent_resident": true,
          "has_disability": true
      }
    fisca_immediate_response_ajax_indicator: true
    fisca_immediate_exit_mapping: 'persons.personA.exit'
    fisca_return_key: 'persons.personA.disability_allowance_eligible,persons.personA.disability_allowance_benefit,persons.personA.monthly_income_exceeds_limit'
weight: 0
open: null
close: null
uid: 2
template: false
archive: false
id: disability_allowance_checker
title: 'Disability Allowance Checker'
description: ''
categories: {  }
elements: |-
  aus_citizen_or_permanent_resident:
    '#type': select
    '#title': aus_citizen_or_permanent_resident
    '#title_display': invisible
    '#field_prefix': 'I '
    '#field_suffix': ' an Australian citizen or permanent resident.'
    '#options':
      'true': am
      'false': 'am not'
  what_is_your_monthly_income_:
    '#type': textfield
    '#title': 'What is your Monthly taxable income?'
    '#help': '<p><span style="font-family:Arial;font-size:10pt;font-style:normal;" data-sheets-root="1">Monthly income refers to your monthly taxable income.</span></p>'
    '#help_display': title_after
    '#field_prefix': 'My monthly income is $'
    '#field_suffix': .
    '#size': 198
    '#states':
      visible:
        ':input[name="aus_citizen_or_permanent_resident"]':
          value: 'true'
  has_disability:
    '#type': select
    '#title': 'Has Disability'
    '#title_display': invisible
    '#field_prefix': 'I '
    '#field_suffix': ' have a disability.'
    '#options':
      'true': do
      'false': 'do not'
    '#states':
      visible:
        ':input[name="what_is_your_monthly_income_"]':
          filled: true
  requires_ongoing_support:
    '#type': select
    '#title': Support
    '#title_display': invisible
    '#field_prefix': 'I '
    '#field_suffix': ' require support for everyday life functions.'
    '#options':
      'true': do
      'false': 'do not'
    '#states':
      visible:
        ':input[name="has_disability"]':
          value: 'true'
  requires_ongoing_supervision_or_treatment:
    '#type': select
    '#title': Supervision
    '#title_display': invisible
    '#field_prefix': 'I '
    '#field_suffix': ' require ongoing supervision or treatment by a health practitioner.'
    '#options':
      'true': do
      'false': 'do not'
    '#states':
      visible:
        ':input[name="requires_ongoing_support"]':
          filled: true
  disability_allowance_eligible:
    '#type': hidden
    '#title': disability_allowance_eligible
    '#default_value': 'null'
  disability_allowance_benefit:
    '#type': hidden
    '#title': disability_allowance_benefit
  monthly_income_exceeds_limit:
    '#type': hidden
    '#title': monthly_income_exceeds_limit
  markup:
    '#type': webform_markup
    '#states':
      visible:
        ':input[name="aus_citizen_or_permanent_resident"]':
          value: 'false'
    '#markup': '<p><span style="font-family:Arial;font-size:10pt;font-style:normal;" data-sheets-root="1">Unfortunately you''re not eligible for the Disability Support Pension because you''re not an Australian citizen or permanent resident.</span></p><p><span style="font-family:Arial;font-size:10pt;font-style:normal;" data-sheets-root="1">Threshold: </span>[webform_openfisca:wo_params:disability_allowance_checker:disability_allowance_max_income]</p><p>[webform_openfisca:wo_rounded:1234.5678]</p>'
  actions:
    '#type': webform_actions
    '#title': 'Submit button(s)'
    '#states':
      visible:
        - ':input[name="has_disability"]':
            value: 'false'
        - or
        - ':input[name="requires_ongoing_supervision_or_treatment"]':
            filled: true
css: ''
javascript: ''
settings:
  ajax: false
  ajax_scroll_top: form
  ajax_progress_type: ''
  ajax_effect: ''
  ajax_speed: null
  page: true
  page_submit_path: ''
  page_confirm_path: ''
  page_theme_name: ''
  form_title: both
  form_submit_once: false
  form_open_message: ''
  form_close_message: ''
  form_exception_message: ''
  form_previous_submissions: true
  form_confidential: false
  form_confidential_message: ''
  form_disable_remote_addr: false
  form_convert_anonymous: false
  form_prepopulate: false
  form_prepopulate_source_entity: false
  form_prepopulate_source_entity_required: false
  form_prepopulate_source_entity_type: ''
  form_unsaved: false
  form_disable_back: false
  form_submit_back: false
  form_disable_autocomplete: false
  form_novalidate: false
  form_disable_inline_errors: false
  form_required: false
  form_autofocus: false
  form_details_toggle: false
  form_reset: false
  form_access_denied: default
  form_access_denied_title: ''
  form_access_denied_message: ''
  form_access_denied_attributes: {  }
  form_file_limit: ''
  form_attributes: {  }
  form_method: ''
  form_action: ''
  share: false
  share_node: false
  share_theme_name: ''
  share_title: true
  share_page_body_attributes: {  }
  submission_label: ''
  submission_exception_message: ''
  submission_locked_message: ''
  submission_log: false
  submission_excluded_elements: {  }
  submission_exclude_empty: false
  submission_exclude_empty_checkbox: false
  submission_views: {  }
  submission_views_replace: {  }
  submission_user_columns: {  }
  submission_user_duplicate: false
  submission_access_denied: default
  submission_access_denied_title: ''
  submission_access_denied_message: ''
  submission_access_denied_attributes: {  }
  previous_submission_message: ''
  previous_submissions_message: ''
  autofill: false
  autofill_message: ''
  autofill_excluded_elements: {  }
  wizard_progress_bar: true
  wizard_progress_pages: false
  wizard_progress_percentage: false
  wizard_progress_link: false
  wizard_progress_states: false
  wizard_start_label: ''
  wizard_preview_link: false
  wizard_confirmation: true
  wizard_confirmation_label: ''
  wizard_auto_forward: true
  wizard_auto_forward_hide_next_button: false
  wizard_keyboard: true
  wizard_track: ''
  wizard_prev_button_label: ''
  wizard_next_button_label: ''
  wizard_toggle: false
  wizard_toggle_show_label: ''
  wizard_toggle_hide_label: ''
  wizard_page_type: container
  wizard_page_title_tag: h2
  preview: 0
  preview_label: ''
  preview_title: ''
  preview_message: ''
  preview_attributes: {  }
  preview_excluded_elements: {  }
  preview_exclude_empty: true
  preview_exclude_empty_checkbox: false
  draft: none
  draft_multiple: false
  draft_auto_save: false
  draft_saved_message: ''
  draft_loaded_message: ''
  draft_pending_single_message: ''
  draft_pending_multiple_message: ''
  confirmation_type: url_message
  confirmation_url: /node/1
  confirmation_title: 'Your submissions'
  confirmation_message: '<h3>Your selections</h3><p>[webform_submission:values:aus_citizen_or_permanent_resident]</p><p>[webform_submission:values:what_is_your_monthly_income_]</p><p>[webform_submission:values:has_disability]</p><p>[webform_submission:values:requires_ongoing_support]</p><p>[webform_submission:values:requires_ongoing_supervision_or_treatment]</p>'
  confirmation_attributes: {  }
  confirmation_back: true
  confirmation_back_label: ''
  confirmation_back_attributes: {  }
  confirmation_exclude_query: false
  confirmation_exclude_token: false
  confirmation_update: false
  limit_total: null
  limit_total_interval: null
  limit_total_message: ''
  limit_total_unique: false
  limit_user: null
  limit_user_interval: null
  limit_user_message: ''
  limit_user_unique: false
  entity_limit_total: null
  entity_limit_total_interval: null
  entity_limit_user: null
  entity_limit_user_interval: null
  purge: none
  purge_days: null
  results_disabled: false
  results_disabled_ignore: false
  results_customize: false
  token_view: false
  token_update: false
  token_delete: false
  serial_disabled: false
access:
  create:
    roles:
      - anonymous
      - authenticated
    users: {  }
    permissions: {  }
  view_any:
    roles: {  }
    users: {  }
    permissions: {  }
  update_any:
    roles: {  }
    users: {  }
    permissions: {  }
  delete_any:
    roles: {  }
    users: {  }
    permissions: {  }
  purge_any:
    roles: {  }
    users: {  }
    permissions: {  }
  view_own:
    roles: {  }
    users: {  }
    permissions: {  }
  update_own:
    roles: {  }
    users: {  }
    permissions: {  }
  delete_own:
    roles: {  }
    users: {  }
    permissions: {  }
  administer:
    roles: {  }
    users: {  }
    permissions: {  }
  test:
    roles: {  }
    users: {  }
    permissions: {  }
  configuration:
    roles: {  }
    users: {  }
    permissions: {  }
handlers:
  openfisca_journey_handler:
    id: openfisca_journey
    handler_id: openfisca_journey_handler
    label: 'Openfisca Journey handler'
    notes: ''
    status: true
    conditions: {  }
    weight: 0
    settings:
      format: yaml
      submission: false
variants: {  }
